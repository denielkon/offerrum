document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".header"),t=document.querySelector(".header__burger"),o=document.querySelector(".burger-menu"),s=document.querySelectorAll('a[href*="#"]'),c=document.querySelector(".popup__layer"),r=document.querySelector(".popup__submit"),l=document.querySelector("body"),n=document.querySelector(".popup__mail-input"),u=document.querySelector(".main__button"),a=document.querySelector(".popup__close-cross"),i=document.querySelectorAll(".burger-menu__anchor"),d=document.querySelector(".popup__title"),p=document.querySelector(".popup__text");window.addEventListener("scroll",(function(t){window.pageYOffset<10?e.classList.remove("scrolled"):e.classList.add("scrolled")})),window.pageYOffset>10&&e.classList.add("scrolled");for(let e of s)e.addEventListener("click",(function(t){t.preventDefault();const o=e.getAttribute("href").substr(1);document.getElementById(o).scrollIntoView({behavior:"smooth",block:"start"})}));document.addEventListener("click",(function(s){s.target===t&&(t.classList.toggle("header__burger-active"),o.classList.toggle("burger-menu__active"),e.classList.toggle("lock"),l.classList.toggle("lock")),s.target!==c&&s.target!==a||(c.classList.remove("popup-active"),l.classList.remove("lock")),s.target!==i[0]&&s.target!==i[1]||(o.classList.remove("burger-menu__active"),e.classList.remove("lock"),t.classList.remove("header__burger-active"),l.classList.remove("lock")),s.target===u&&(c.classList.add("popup-active"),l.classList.add("lock")),s.target!==r||r.classList.contains("popup__submit-disabled")||(s.preventDefault(),"Хорошо"!==r.textContent?(d.textContent="Отлично!",p.textContent="Вам на почту выслано письмо с подтверждением регистрации",n.remove(),r.textContent="Хорошо"):(c.classList.remove("popup-active"),l.classList.remove("lock")))})),n.addEventListener("input",(function(){n.value.length>0&&n.value.includes("@")?r.classList.remove("popup__submit-disabled"):r.classList.add("popup__submit-disabled")})),document.addEventListener("keydown",(function(e){27==e.keyCode&&(c.classList.remove("popup-active"),l.classList.remove("lock"))}))}));