const header=document.querySelector(".header"),headerBurger=document.querySelector(".header__burger"),headerMenu=document.querySelector(".burger-menu"),anchors=document.querySelectorAll('a[href*="#"]'),popUpWrapper=document.querySelector(".popup__wrapper"),submit=document.querySelector(".popup__submit"),body=document.querySelector("body"),input=document.querySelector(".popup__mail-input");window.addEventListener("scroll",(function(e){window.pageYOffset<10?header.classList.remove("scrolled"):header.classList.add("scrolled")})),window.pageYOffset>10&&header.classList.add("scrolled");for(let e of anchors)e.addEventListener("click",(function(t){t.preventDefault();const r=e.getAttribute("href").substr(1);document.getElementById(r).scrollIntoView({behavior:"smooth",block:"start"})}));document.addEventListener("click",(function(e){e.target===headerBurger&&(headerBurger.classList.toggle("header__burger-active"),headerMenu.classList.toggle("burger-menu-active"),header.classList.toggle("lock"),body.classList.toggle("lock")),e.target===document.querySelector(".main__button")&&(popUpWrapper.classList.add("popup-active"),body.classList.add("lock")),e.target!==popUpWrapper&&e.target!==document.querySelector(".popup__close-cross")||(popUpWrapper.classList.remove("popup-active"),body.classList.remove("lock")),e.target!==document.querySelectorAll(".burger-menu__anchor")[0]&&e.target!==document.querySelectorAll(".burger-menu__anchor")[1]||(headerMenu.classList.remove("burger-menu-active"),header.classList.remove("lock"),headerBurger.classList.remove("header__burger-active"),body.classList.remove("lock")),e.target!==submit||submit.classList.contains("popup__submit-disabled")||(e.preventDefault(),"Хорошо"!==submit.textContent?(document.querySelector(".popup__title").textContent="Отлично!",document.querySelector(".popup__text").textContent="Вам на почту выслано письмо с подтверждением регистрации",input.remove(),submit.textContent="Хорошо"):(popUpWrapper.classList.remove("popup-active"),body.classList.remove("lock")))})),input.addEventListener("input",(function(){input.value.length>0&&input.value.includes("@")?submit.classList.remove("popup__submit-disabled"):submit.classList.add("popup__submit-disabled")})),document.addEventListener("keydown",(function(e){27==e.keyCode&&(popUpWrapper.classList.remove("popup-active"),body.classList.remove("lock"))}));